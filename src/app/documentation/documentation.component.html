<div class="component">
  <div class="component-element" id="sample-projects">
    <h2>Sample Projects</h2>
    <div>
      The example projects with configurations over Europeana, DBPedia and
      wikidata can be uploaded from the following locations (other sample projects
      are offered during the project initialization, as well):
      <br />
      <li>
        <a href="https://viziquer.lumii.lv/dss/resources/Europeana_Sample.json"
          >Europeana sample project.</a>
      </li>
      <li>
        <a href="https://viziquer.lumii.lv/dss/resources/DBPedia_Sample.json"
          >DBPedia sample project.</a>
      </li>
      <li>
        <a href="https://viziquer.lumii.lv/dss/resources/Wikidata_Sample.json"
          >Wikidata sample project.</a>
      </li>
      <br/>
    </div>
  </div>
  <div class="component-element" id="open-source-code">
    <h2>Open Source Code</h2>
    <div>
        Check out the branch
        <a href="https://github.com/LUMII-Syslab/viziquer/tree/dss-based-schemata"
          >dss-based-schemata</a
        >
        from
        <a href="https://github.com/LUMII-Syslab/viziquer"
          >Viziquer repository in GitHub</a
        >
        for the visual tool version that works with the data shape (schema) server
        (needed for large data schema support).
        <br /><br />
        The
        <a href="https://github.com/LUMII-Syslab/data-shape-server"
          >data shape server</a
        >
        (serving the names for auto-completion) is in
        <a href="https://github.com/LUMII-Syslab/data-shape-server"
          >its own repository on GitHub</a
        >
        (the actual schema data are currently stored in Postgres databases).
        <div>
        The <a href="https://github.com/LUMII-Syslab/data-shape-retrieval-services">data shape retrieval services</a> contain:
        <ul>
          <li>
            the open source code used for populating the DBPedia and wikidata schema
            databases from their respective SPARQL endpoints, and
          </li>
          <li>
            a utility for importing JSON-formatted schemas obtained from the generic
            data schema retrieval (cf. Data schema retrieval section).

          </li>
        </ul>
      </div> 
    </div>
  </div>
  <div class="component-element" id="data-retrieval">
    <h2>Data schema retrieval</h2>
    <div>
      The visual query tool is designed to work with user-specified SPARQL
      endpoints. The
      <a href="https://github.com/LUMII-Syslab/OBIS-SchemaExtractor">
      Schema Extractor</a>
      allows for obtaining a JSON-structured schema for a data set.
      <br/>
      NB! Use "version 2" within the schema extractor UI.
      <br/>
      To use the created schema with ViziQuer/DSS tool, load it into the tool
      backend database by the
      <a href="https://github.com/LUMII-Syslab/data-shape-retrieval-services/tree/main/data-shape-import-service"
      >data shape import service</a>tool.
      <br/>
      Alternatively, the schema can be loaded into
      <a href="./base/index.html"> classic ViziQuer/web</a>.
      </div>
  </div>
  <div class="component-element" id="data-schema">
    <h2>Data schemas</h2>
    <div>
      The dumps of PostgreSQL databases for data endpoint schema information
      storing (including, where possible, the class-property and property-property
      relations):
      <li>
        Europeana, a sample moderate size schema:
        <a href="dss/resources/rdfmeta-europeana-220202-1147.pgsql.gz">
          PostgreSQL database for Europeana
        </a>
      </li>
      <li>
        Empty schema (can be used to populate with user data):
        <a href="dss/resources/rdfmeta-empty-220202-1148.pgsql.gz">
          Empty PostgreSQL database
        </a>
      </li>
      <li>
        DBPedia (large, 188 MB):
        <a href="dss/resources/rdfmeta-dbpedia-210727-1935.pgsql.gz">
          PostgreSQL database for DBPedia (v0)</a
        >
      </li>
      <br/>
    </div>
  </div>
  <div class="component-element" id="short-notation">
    <h2>Short Notation and Tool Explanation</h2>
    <div class="grid">
      <div class="text">In ViziQuer a query is a graph with one node
        marked as the main one (orange round
        rectangle). In the simplest situations the query
        shape is a tree with the main node being its
        root.
        </div>
      <div class="picture"><img src="./assets/img/grid_img.png"></div>
      <div class="text">A query creation can be started by a class, by a
        property and by an individual (from the pane to
        the right of the diagram, double-click the item).
        The lists for classes, properties and individuals
        can be name-filtered.
        It is recommended to write searched name
        fragments case sensitive. It might be necessary
        to write individual’s name in full.
        A pattern for a typical individual name is like
        dbr:Margaret_Thatcher</div>
        <div class="picture"><img src="./assets/img/grid_img2.png"></div>
        <div class="text">If the schema information cannot be seen to
          the right of the diagram, and the ‘Reload tree’
          button is shown, press the button.
          </div>
        <div class="picture"><img src="./assets/img/grid_img3.png"></div>
        <div class="text_long">When a query creation has been started,
          <b>Add Link </b> operation (from the right mouse
          context menu on a node) allows adding
          connecting links (and in some cases, the link
          other end class names). <br><br>
          Simple (join) is usually sufficient for the
          simplest queries. Subqueries and unions are
          available, as well. <br><br>
          Choose the desired link in the dialogue, or
          search for the name by the name fragment. <br><br>
          If similar-named properties appear in both dbo:
          namespace (can be written also without prefix)
          and dbp: namespace, it is generally
          recommended to try the dbo: one first.</div>
        <div class="picture"><img src="./assets/img/grid_img4.png"></div>
        <div class="picture"><img src="./assets/img/grid_img5.png"></div>
        <div class="text"><b>Add Field</b> allows adding data fields to query
          nodes.
          Choose (select this) as a data field representing
          the node instance itself.<br><br>
          <b>Aggregate</b> .. is for aggregate fields (e.g.,
          counting).
          Filters are possible, as well.
          </div>
        <div class="picture"><img src="./assets/img/grid_img6.png"></div>
        <div class="text">Data in all fields can be managed from the
          <b>property pane to the right of the diagram </b> (the
          node or edge properties appear by clicking on
          the element).<br><br>
          <b>Class name (URI)</b> and <b>Instance name (URI)</b> can
          be typed in the respective fields in the property
          names. <br><br>
          Make sure to type the full individual name in
          the form dbr:Margaret_Thatcher. <br><br>
          Names without prefixes in the <b>Instance</b> field
          are considered to be <b> variables </b> (used for naming
          columns in the output and for references from
          other query parts). <br><br>
          For class names the short form (name only) can
          be used, if the namespace is the default one
          (i.e., dbo: ).</div>
        <div class="picture"><img src="./assets/img/grid_img7.png"></div>
        <div class="text">It is possible also to create several independent
          query nodes and then by a link from the <b>symbol
          palette</b> .</div>
        <div class="picture"><img src="./assets/img/grid_img8.png"></div>
        <div class="text">Just as for data selection, queries can be used
          for counting and other kinds of data
          aggregation.</div>
        <div class="picture"><img src="/assets/img/grid_img9.png"></div>
        <div class="text">Counts (and other aggregations) are
          automatically grouped by any selection fields in
          any of the nodes (in the example case – (select
          this) in the node for the class ‘Country’).
          </div>
        <div class="picture"><img src="./assets/img/grid_img10.png"></div>
        <div class="text">A similar query can be created also <b> without
          class names </b> (the class names are optional; if
          they are specified, the query would look only at
          results that belong to the specified classes).
          </div>
        <div class="picture"><img src="./assets/img/grid_img11.png"></div>
        <div class="text"><b>Subqueries</b> allow for richer means of counting
          in the context (e.g., the spoken languages in the
          context of a country), allowing further filters
          and processing on the counted values.
          </div>
        <div class="picture"><img src="./assets/img/grid_img12.png"></div>
        <div class="text">There can be also <b>“free links”</b> in the query
          (labelled by ++), not corresponding to any link
          in the data.<br>
          The nodes on both sides of the link are typically
          connected by a <b> condition </b>. In the example the
          alias cgb denotes the birthdate of Coco Gauff;
          the condition in the TennisPlayer node asks for
          tennis players younger than Coco Gauff.
          The mark 'h' at the cgb field specifies this as a
          helper field - not to be included in the resulting
          data selection.</div>
        <div class="picture"><img src="./assets/img/grid_img13.png"></div>
    </div><br><br>
  </div>
  <div class="component-element">
    <h2>Visual Query Example Hospital</h2>
    <h5>Mini-Hospital data schema</h5>
    <div>
      The visual query environment needs a data schema defining the available class and property vocabulary, as well as
      applicability of properties to classes and cardinalities. <br>  
      The following visualization shows a mini-hospital data schema used in further examples.
      <img src="./assets/img/Hospital_example.png">
      The center of the data schema is the Patient class; each patient can have a number of hospital episodes
(HospitalEpisode), and a number of outpatient episodes (OutpatientEpisode). There can be a number of treatments
in wards (TreatmentInWard) for each hospital episode, numbered starting by 1 in the orderNo attribute. The
attribute isLastTr (values “true” or “”false”) marks each treatment in ward as the last one or non-last one for its
episode. Further on, every treatment in ward can have a number of associated manipulations (Manipulation).<br><br>
There are cardinality marks (e.g. [0..1] or *) at some attributes or links. The attributes or links not having any
cardinality mark are assumed to have cardinality 1 that means existence of exactly one required value corresponding
to the attribute or the link. <br><br>
The classes CManipDescr, CPhysician and CDiagnosis contain classifier values of manipulation descriptions,
physicians and diagnoses respectively. There are links to the classifier classes from the main data classes. In the
query building process these links can be traversed both in the direction from the data class to the classifier class, as
well as in the reverse direction. <br><br>
For every hospital episode there can be several admission and several discharge diagnoses specified; one of these
diagnoses is marked as the main admission or discharge diagnosis respectively (accessible from the episode by link
admissionDiagnosis_main or dischargeDiagnosis_main), all episode diagnoses that are not main admission or
discharge diagnoses are extra diagnoses (accessible from the episode by the link admissionDiagnosis_extra or
dischargeDiagnosis_extra). The links admissionDiagnosis and dischargeDiagnosis can be used to reach all admission
or discharge diagnoses (including the main ones and the extra ones) for an episode, respectively). <br><br>
Similarly, for an outpatient episode the outpatientDiagnosis link lists all diagnoses, outpatientDiagnosis_main lists
the main diagnosis and outpatientDiagnosis_extra lists the extra diagnoses. <br><br>
<h4>Example Queries</h4>
<img src="./assets/img/Hospital_example2.png">
<img src="./assets/img/Hospital_example3.png">
<img src="./assets/img/Hospital_example4.png">
<img src="./assets/img/Hospital_example5.png">

    </div>
  </div>
</div>
<div class="sidenav">
  <nav>
    <ul>
      <li><a href='./documentation#sample-projects'>Sample Projects</a></li>
      <li><a href='./documentation#open-source-code'>Open Source Code</a></li>
      <li><a href='./documentation#data-retrieval'>Data schema retrieval</a></li>
      <li><a href='./documentation#data-schema'>Data Schema</a></li>
      <li><a href='./documentation#short-notation'>Short Notation</a></li>
    </ul>
  </nav>
</div>
